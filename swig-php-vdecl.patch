--- swig-1.3.30/Source/Modules/php4.cxx.orig	2006-11-18 20:50:19.513710000 +0100
+++ swig-1.3.30/Source/Modules/php4.cxx	2006-11-18 21:01:47.056678750 +0100
@@ -1019,9 +1019,9 @@
 
     if (mvr) {			// do prop[gs]et header
       if (mvrset) {
-	Printf(f->def, "static int _wrap_%s(zend_property_reference *property_reference, pval *value) {\n", iname);
+	Printf(f->def, "static int _wrap_%s(zend_property_reference *property_reference, pval *value) {\nTSRMLS_FETCH();\n", iname);
       } else {
-	Printf(f->def, "static pval _wrap_%s(zend_property_reference *property_reference) {\n", iname);
+	Printf(f->def, "static pval _wrap_%s(zend_property_reference *property_reference) {\nTSRMLS_FETCH();\n", iname);
       }
     } else {
       // regular header

